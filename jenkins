pipeline {
    agent any
    parameters{
        string(name:'Env' defaultValue:'Test', description:'Environment to deploy')
        booleanParam(name:'executeTests',defaultValue:true ,description:'decide to run tc')
        choice(name:'APPVERSION',choices['15','15PRO MAX' '16'])
    }

    stages {
        stage('Build') {
            steps {
                // Your build steps here
              echo  "Buid the code :${params.APPVERSION}"
            }
        }
        stage('Test') {
            steps {
               when{
                    expression{
                        params.executeTests==true

                    }
               }
            }
        }
        stage('Deploy') {
           input{
            message "Provide approval for prod"
            ok "Deploy to prod"
              parameters{

                booleanParam(name:'DeployToProd',defaultValue:false ,description:'decide to deploy on prod')

              }
           }


            steps {
                // Your deployment steps here
                echo "deploying  in the environment:${params.Env}"
            }
        }
    }
}

